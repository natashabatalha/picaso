

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing to PICASO &mdash; picaso 4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=9f5556dd"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="workshops.html" />
    <link rel="prev" title="The Code" href="picaso.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            picaso
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#reference-data">Reference Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#using-quickstart-notebook">Using Quickstart Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebook_workflow.html">Tutorial Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">The Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="picaso.html">The Code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pep-8-style-guide">PEP 8 Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github-workflow-for-contributions">Github Workflow for Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fork-the-repository">1) Fork the repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clone-the-repository">2) Clone the repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-branch-off-of-dev-with-a-useful-name">3) Create a branch off of <code class="docutils literal notranslate"><span class="pre">dev</span></code> with a useful name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#work-work-work-work">4) Work work work work…</a></li>
<li class="toctree-l3"><a class="reference internal" href="#final-merge-to-base-branch-dev">4) Final merge to base branch <code class="docutils literal notranslate"><span class="pre">dev</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request-best-practices">Pull Request Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-conda-enviornments">Using Conda Enviornments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-your-own-environment">Create your own environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-your-environment">Export your environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-enviornment-from-a-yml-file">Create enviornment from a <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workshops.html">Workshop Material</a></li>
<li class="toctree-l1"><a class="reference external" href="https://natashabatalha.github.io/picaso_dev">The Derivations</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/natashabatalha/picaso">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="credit.html">What to Cite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">picaso</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contributing to <code class="docutils literal notranslate"><span class="pre">PICASO</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/contribution.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing-to-picaso">
<h1>Contributing to <code class="docutils literal notranslate"><span class="pre">PICASO</span></code><a class="headerlink" href="#contributing-to-picaso" title="Link to this heading"></a></h1>
<section id="pep-8-style-guide">
<h2>PEP 8 Style Guide<a class="headerlink" href="#pep-8-style-guide" title="Link to this heading"></a></h2>
<p>We generally follow <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#descriptive-naming-styles">PEP 8</a> styling. Below we emphasize the “must haves” of our code.</p>
<ul class="simple">
<li><p>Your code should read like a book. If you have ~10 lines of code without a comment you are commenting too infrequently.</p></li>
<li><p>It is really important to style function headers uniformly using <a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html#example-numpy">NumPy style Python Docstrings</a>. This enables <a class="reference external" href="http://www.sphinx-doc.org/en/master/">sphinx</a> to auto read function headers. Below is an example, but <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#sections">look here</a> for a full list of headers.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span><span class="n">in3</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Describe function thoroughly.</span>

<span class="sd">    Add any relevant citations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    in1 : int</span>
<span class="sd">        This variable is for something cool.</span>
<span class="sd">    in2 : list of float</span>
<span class="sd">        This variable is for something else cool.</span>
<span class="sd">    in3 : str,optional</span>
<span class="sd">        (Optional) Default=None, this variable is options.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        Cool output</span>
<span class="sd">    float</span>
<span class="sd">        Other cool output</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    This is how to use this.</span>

<span class="sd">    &gt;&gt;a = foo(5,[5.0,4.0],in3=&#39;hello&#39;)</span>


<span class="sd">    Warnings</span>
<span class="sd">    --------</span>
<span class="sd">    Garbage in garbage out</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Variable names should explain what the variable is. Avoid undescriptive names like <cite>thing1</cite> or <cite>thing2</cite></p></li>
<li><p>If you have an equation in your code it should be referenced with a paper and equation number. For example:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#now define terms of Toon et al 1989 quadrature Table 1</span>
<span class="c1">#https://agupubs.onlinelibrary.wiley.com/doi/pdf/10.1029/JD094iD13p16287</span>
<span class="c1">#see table of terms</span>
<span class="n">sq3</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">g1</span>      <span class="o">=</span> <span class="p">(</span><span class="n">sq3</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">2.</span> <span class="o">-</span> <span class="n">w0</span><span class="o">*</span><span class="p">(</span><span class="mf">1.</span><span class="o">+</span><span class="n">cosbar</span><span class="p">))</span>       <span class="c1">#table 1</span>
<span class="n">g2</span>      <span class="o">=</span> <span class="p">(</span><span class="n">sq3</span><span class="o">*</span><span class="n">w0</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">cosbar</span><span class="p">)</span>                 <span class="c1">#table 1</span>
<span class="n">g3</span>      <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">sq3</span><span class="o">*</span><span class="n">cosbar</span><span class="o">*</span><span class="n">ubar0</span><span class="p">)</span>               <span class="c1">#table 1</span>
<span class="n">lamda</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">g1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">g2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>                                      <span class="c1">#eqn 21</span>
<span class="n">gama</span>  <span class="o">=</span> <span class="p">(</span><span class="n">g1</span><span class="o">-</span><span class="n">lamda</span><span class="p">)</span><span class="o">/</span><span class="n">g2</span>                                                     <span class="c1">#eqn 22</span>
</pre></div>
</div>
</section>
<section id="github-workflow-for-contributions">
<h2>Github Workflow for Contributions<a class="headerlink" href="#github-workflow-for-contributions" title="Link to this heading"></a></h2>
<p>Before contributing, consider submitting an issue request. Sometimes we may already be aware of an issue and can help you fix something faster.</p>
<section id="fork-the-repository">
<h3>1) Fork the repository<a class="headerlink" href="#fork-the-repository" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>[ ] Go to <a class="reference external" href="https://github.com/natashabatalha/picaso">https://github.com/natashabatalha/picaso</a></p></li>
<li><p>[ ] Click “Fork” on the main page.</p></li>
<li><p>[ ] Name your forked repository</p></li>
<li><p>[ ] (Recommended): Uncheck “Copy the master branch only” to get all PICASO branches</p></li>
</ul>
</section>
<section id="clone-the-repository">
<h3>2) Clone the repository<a class="headerlink" href="#clone-the-repository" title="Link to this heading"></a></h3>
<p>Go to your forked repository page and clone it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/YOURACCOUNT/picaso.git
</pre></div>
</div>
<p>This will download a copy of the code to your computer. You will automatically be in the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch upon downloading. You can track the dev branch like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>dev
</pre></div>
</div>
<p><strong>Side note: Important distinction between ``master`` and ``dev``</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">master</span></code> always represents the released production code. Here is the workflow we will follow. All major development will be done on branches off of <code class="docutils literal notranslate"><span class="pre">dev</span></code>. The only exceptions are what we call “hotfixes”, which can go directly from the fixed branch to master, and minor bugs that can be directly fixed on <code class="docutils literal notranslate"><span class="pre">dev</span></code>. See the overall schematic below.</p>
<img alt="_images/github_flow.jpg" src="_images/github_flow.jpg" />
</section>
<section id="create-a-branch-off-of-dev-with-a-useful-name">
<h3>3) Create a branch off of <code class="docutils literal notranslate"><span class="pre">dev</span></code> with a useful name<a class="headerlink" href="#create-a-branch-off-of-dev-with-a-useful-name" title="Link to this heading"></a></h3>
<p>It’s likely you will be working on a specific subset of a bigger code project. Any changes you make on a new branch will not affect <code class="docutils literal notranslate"><span class="pre">master</span></code> or <code class="docutils literal notranslate"><span class="pre">dev</span></code>, so you can feel free to beat up the code without damaging anything that is fully tested.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>myfeature<span class="w"> </span>dev
</pre></div>
</div>
</section>
<section id="work-work-work-work">
<h3>4) Work work work work…<a class="headerlink" href="#work-work-work-work" title="Link to this heading"></a></h3>
<p>Let’s pretend that <code class="docutils literal notranslate"><span class="pre">myfeature</span></code> entails working on <code class="docutils literal notranslate"><span class="pre">file1.py</span></code> and <code class="docutils literal notranslate"><span class="pre">file2.py</span></code>. After you are happy with an initial change, commit and push your changes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#commit changes</span>
git<span class="w"> </span>add<span class="w"> </span>file1.py<span class="w"> </span>file2.py
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;added cool thing&#39;</span>

<span class="c1">#switch to dev branch</span>
git<span class="w"> </span>checkout<span class="w"> </span>dev

<span class="c1">#merge your changes</span>
git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>myfeature

<span class="c1">#delete old branch</span>
git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>myfeature

<span class="c1">#push to dev</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>dev
</pre></div>
</div>
<p>Many people ask: “How often should I commit??”. Choose something that works for you and stick to it. I try and work on smaller, individual tasks and commit when I feel I have finished something. If you try and do too much at once, your commit comments won’t make too much sense with what you have actually done. Remember, eventually someone will have to review your commits. If they are hard to parse, it will delay the merge of your work.</p>
</section>
<section id="final-merge-to-base-branch-dev">
<h3>4) Final merge to base branch <code class="docutils literal notranslate"><span class="pre">dev</span></code><a class="headerlink" href="#final-merge-to-base-branch-dev" title="Link to this heading"></a></h3>
<p>Now you need to get your work back to the base branch.</p>
<ul class="simple">
<li><p>[ ] Go to main branch and click on “New pull request”</p></li>
<li><p>[ ] Select natashabatalha:dev &lt;- yourfork:dev (for example)</p></li>
<li><p>[ ] Click create pull request</p></li>
</ul>
</section>
</section>
<section id="pull-request-best-practices">
<h2>Pull Request Best Practices<a class="headerlink" href="#pull-request-best-practices" title="Link to this heading"></a></h2>
<p>A high-quality and self-contained pull request (PR) makes it much easier for maintainers to review and merge your work.</p>
<p><strong>What to include in a PR:</strong></p>
<ol class="arabic simple">
<li><p><strong>A clear and descriptive title.</strong></p></li>
<li><p><strong>A summary of the changes</strong> and the motivation behind them.</p></li>
<li><p><strong>Reference any related issues</strong> (e.g., “Closes #123”).</p></li>
<li><p><strong>Verification of changes</strong>: Mention if you’ve added new tests or ran existing ones. Include screenshots if your changes affect plots or UI.</p></li>
</ol>
<p><strong>What NOT to include in a PR:</strong></p>
<ol class="arabic simple">
<li><p><strong>Multiple fixes</strong> are difficult for maintainers to parse and test.</p></li>
<li><p><strong>GitHub tracked scripts/notebooks/data</strong> that do not specifically address a problem. For example, if you have a test script this should not be added to the repo itself but instead be attached to the PR.</p></li>
</ol>
<p><strong>Example PR Description:</strong></p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">### Summary</span>
This PR adds functionality to interpolate on the visscher_chemeq grid.

<span class="gu">### Motivation</span>
Currently, PICASO calls the nearest neighbor chemical equilibrium point in visscher_chemeq rather than interpolating.

<span class="gu">### Changes</span>
<span class="k">-</span><span class="w"> </span>Added interpolation function in <span class="sb">`picaso/justdoit.py`</span>.
<span class="k">-</span><span class="w"> </span>Updated chemeq_visscher_2121 to...
<span class="k">-</span><span class="w"> </span>Added tests in <span class="sb">`tests/test_x.py`</span>.

<span class="gu">### Verification</span>
<span class="k">-</span><span class="w"> </span>Ran <span class="sb">`pytest tests/test_x.py`</span> and all tests passed.
<span class="k">-</span><span class="w"> </span>Verified output against ...
</pre></div>
</div>
<p><strong>Note on AI-Generated Contributions:</strong></p>
<p>AI tools are great and the PICASO team uses them as well. However, if you use an AI tool (such as ChatGPT, GitHub Copilot, Jules, or others) to assist in generating your code or PR description, you <strong>must</strong> carefully vet every line of code. We will not accept PRs that look like bulk AI changes or contain unverified AI-generated code. The contributor is responsible for the correctness, style, and quality of the submitted code.</p>
</section>
<section id="using-conda-enviornments">
<h2>Using Conda Enviornments<a class="headerlink" href="#using-conda-enviornments" title="Link to this heading"></a></h2>
<p>Package control and version control is a pain. To make sure everyone is running on the same enviornment it will be beneficial if we are all work in the same environment. Here are the most pertinent commands you need to know.</p>
<section id="create-your-own-environment">
<h3>Create your own environment<a class="headerlink" href="#create-your-own-environment" title="Link to this heading"></a></h3>
<p>To create your own environment with a specific name and python package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>your_env_name<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.13<span class="w"> </span>-y
</pre></div>
</div>
<p>If you have specific environment variables that need to be tied to here, then you can specify them. For example, in PICASO there is the environment variable <code class="docutils literal notranslate"><span class="pre">picaso_refdata</span></code> and <code class="docutils literal notranslate"><span class="pre">PYSYN_CDBS</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>your_env_name
<span class="nb">cd</span><span class="w"> </span><span class="nv">$CONDA_PREFIX</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>./etc/conda/activate.d
mkdir<span class="w"> </span>-p<span class="w"> </span>./etc/conda/deactivate.d
touch<span class="w"> </span>./etc/conda/activate.d/env_vars.sh
touch<span class="w"> </span>./etc/conda/deactivate.d/env_vars.sh
</pre></div>
</div>
<p>Edit <code class="docutils literal notranslate"><span class="pre">./etc/conda/activate.d/env_vars.sh</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">MY_VAR</span><span class="o">=</span><span class="s1">&#39;path/to/wherever/you/need&#39;</span>
</pre></div>
</div>
<p>And edit <code class="docutils literal notranslate"><span class="pre">./etc/conda/deactivate.d/env_vars.sh</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="nb">unset</span><span class="w"> </span>MY_VAR
</pre></div>
</div>
<p>No whenever you activate your environment, your variable name will be there. Whenever you deactivate your environment, it will go away.</p>
</section>
<section id="export-your-environment">
<h3>Export your environment<a class="headerlink" href="#export-your-environment" title="Link to this heading"></a></h3>
<p>Another great aspect of conda enviornments is that they can be passed to one another.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>&gt;<span class="w"> </span>my_environment.yml
</pre></div>
</div>
</section>
<section id="create-enviornment-from-a-yml-file">
<h3>Create enviornment from a <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file<a class="headerlink" href="#create-enviornment-from-a-yml-file" title="Link to this heading"></a></h3>
<p>If someone passes you an environment file, you can easily create an environment from it !</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>environment.yml
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="picaso.html" class="btn btn-neutral float-left" title="The Code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="workshops.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>